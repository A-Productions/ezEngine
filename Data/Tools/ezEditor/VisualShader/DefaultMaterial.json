{
  "MaterialOutput" :
  {
    "Color" : "90, 30, 122",
    "NodeType" : "Main",
    "CodePermutations" : "
BLEND_MODE
RENDER_PASS
SHADING_MODE
TWO_SIDED
INSTANCING
",

    "CodeRenderStates" : "#include <Shaders/Materials/MaterialState.h>",
    "CodeVertexShader" : "
#define USE_NORMAL
#define USE_TANGENT
#define USE_TEXCOORD0

#include <Shaders/Materials/DefaultMaterialCB.h>
#include <Shaders/Materials/MaterialVertexShader.h>

VS_OUT main(VS_IN Input)
{
  return FillVertexData(Input);
}",

    "CodeMaterialParams" : "
Permutation BLEND_MODE;
Permutation SHADING_MODE;
Permutation TWO_SIDED;
float MaskThreshold @Default(0.25);
",

    "CodePixelDefines" : "
#define USE_NORMAL
#define USE_TANGENT
#define USE_TEXCOORD0
#define USE_SIMPLE_MATERIAL_MODEL
",

    "CodePixelIncludes" : "
#include <Shaders/Materials/DefaultMaterialCB.h>
#include <Shaders/Materials/MaterialPixelShader.h>
#include <Shaders/Common/VisualShaderUtil.h>
",

    "CodePixelSamplers" : "",
    "CodePixelConstants" : "",
    "CodePixelBody" : "

float3 GetBaseColor(PS_IN Input)
{
  return ToColor3($in0);
}

float3 GetNormal(PS_IN Input)
{
  // TODO: Incorrect when texture is sampled, needs transformation from tangent space to world space
  return ToFloat3($in1);
}

float GetMetallic(PS_IN Input)
{
  return clamp(ToFloat1($in2), 0, 1);
}

float GetReflectance(PS_IN Input)
{
  return clamp(ToFloat1($in3), 0, 1);
}

float GetRoughness(PS_IN Input)
{
  return clamp(ToFloat1($in4), 0, 1);
}

float GetOpacity(PS_IN Input)
{
  #if BLEND_MODE == BLEND_MODE_MASKED
    return ToFloat1($in5) - MaskThreshold;
  #else
    return ToFloat1($in5);
  #endif
}
",

    "InputPins" :
    [
      // Pin 0
      {
        "Name" : "Base Color",
        "Type" : "float3",
        "Color" : "255, 255, 255",
        "Expose" : true,
        "Fallback" : "1"
      },

      // Pin 1
      {
        "Name" : "Normal",
        "Type" : "float3",
        "Color" : "128, 128, 255",
        "Fallback" : "Input.Normal"
      },

      // Pin 2
      {
        "Name" : "Metallic",
        "Type" : "float",
        "Color" : "128, 128, 128",
        "Expose" : true,
        "Fallback" : "0"
      },

      // Pin 3
      {
        "Name" : "Reflectance",
        "Type" : "float",
        "Color" : "196, 196, 196",
        //"Expose" : true, // otherwise fallback is currently 0
        "Fallback" : "0.5"
      },

      // Pin 4
      {
        "Name" : "Roughness",
        "Type" : "float",
        "Color" : "150, 64, 64",
        //"Expose" : true, // otherwise fallback is currently 0
        "Fallback" : "0.5"
      },

      // Pin 5
      {
        "Name" : "Opacity",
        "Type" : "float",
        "Color" : "230, 230, 153",
        //"Expose" : true, // otherwise fallback is currently 0
        "Fallback" : "1"
      }
    ]
  }
}